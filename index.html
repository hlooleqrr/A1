<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù…Ù†ØµØ© FINO - ØªØ±Ø´ÙŠØ­ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ | FINO â€” Smart Finance Match</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Ø®Ø· Tajawal -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800;900&display=swap" rel="stylesheet">

  <style>
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      font-family:'Tajawal',system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
      background:#f3f4f6;
      margin:0;
      text-align:center;
      font-size:20px;
      direction:rtl;
      color:#111827;
    }
    header{
      background:linear-gradient(135deg,#0f172a,#1e3a8a);
      color:#fff;
      padding:14px 10px;
      position:sticky;
      top:0;
      z-index:10;
      box-shadow:0 6px 18px rgba(0,0,0,.18);
    }
    header h1{
      margin:0;
      font-size:24px;
      font-weight:800;
      letter-spacing:.2px;
      line-height:1.25;
    }
    header .sub{
      margin-top:6px;
      font-size:14px;
      opacity:.92;
      font-weight:700;
    }
    main{
      max-width:980px;
      margin:18px auto 28px;
      padding:0 14px;
    }
    .grid{
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
    }
    @media(min-width:900px){
      .grid{grid-template-columns:1.12fr .88fr}
    }
    .card{
      background:rgba(249,250,251,.97);
      border:1px solid rgba(15,23,42,.08);
      border-radius:18px;
      padding:16px 14px;
      box-shadow:0 10px 28px rgba(2,6,23,.07);
      text-align:right;
    }
    .card h2{
      margin:0 0 10px;
      font-size:22px;
      font-weight:900;
      color:#0f172a;
      letter-spacing:.2px;
      text-align:right;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      background:rgba(30,58,138,.10);
      color:#1e3a8a;
      font-weight:900;
      font-size:14px;
      margin-bottom:10px;
    }
    .muted{
      color:#334155;
      font-weight:700;
      line-height:1.65;
      margin:0;
      text-align:right;
    }
    .steps{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
      margin-top:12px;
    }
    @media(min-width:640px){
      .steps{grid-template-columns:1fr 1fr}
    }
    .step{
      background:#fff;
      border:1px solid rgba(15,23,42,.08);
      border-radius:16px;
      padding:12px;
      display:flex;
      gap:12px;
      align-items:flex-start;
      box-shadow:0 6px 18px rgba(2,6,23,.05);
    }
    .num{
      width:38px;height:38px;border-radius:12px;
      background:linear-gradient(135deg,#1e3a8a,#0ea5e9);
      color:#fff;
      display:flex;align-items:center;justify-content:center;
      font-weight:900;
      flex:0 0 auto;
      box-shadow:0 10px 18px rgba(30,58,138,.25);
    }
    .step b{display:block;font-size:16px;margin-bottom:2px;color:#0f172a}
    .step span{display:block;font-size:14px;color:#334155;font-weight:700;line-height:1.55}
    .cta{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-start;
    }
    .btn{
      border:none;
      border-radius:16px;
      padding:14px 16px;
      font-weight:900;
      font-size:18px;
      cursor:pointer;
      transition:transform .12s ease, box-shadow .12s ease, opacity .12s ease;
      font-family:'Tajawal',sans-serif;
      user-select:none;
    }
    .btn:active{transform:scale(.98)}
    .btnPrimary{
      background:linear-gradient(135deg,#1e3a8a,#0ea5e9);
      color:#fff;
      box-shadow:0 14px 26px rgba(30,58,138,.25);
    }
    .btnGhost{
      background:#fff;
      color:#0f172a;
      border:1px solid rgba(15,23,42,.12);
      box-shadow:0 10px 22px rgba(2,6,23,.05);
    }
    .btnDanger{
      background:#fee2e2;
      color:#991b1b;
      border:1px solid rgba(153,27,27,.20);
      box-shadow:0 10px 22px rgba(153,27,27,.08);
    }
    .hr{height:1px;background:rgba(15,23,42,.10);margin:14px 0}
    .formRow{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
      margin-top:8px;
    }
    @media(min-width:640px){
      .formRow{grid-template-columns:1fr 1fr}
    }
    label{
      display:block;
      font-weight:900;
      color:#0f172a;
      margin:0 0 6px;
      font-size:16px;
      text-align:right;
    }
    input,select{
      width:100%;
      padding:14px 12px;
      border-radius:14px;
      border:1px solid rgba(15,23,42,.15);
      font-size:18px;
      outline:none;
      background:#fff;
      font-family:'Tajawal',sans-serif;
    }
    input:focus,select:focus{
      border-color:rgba(30,58,138,.55);
      box-shadow:0 0 0 4px rgba(14,165,233,.12);
    }
    .hint{
      margin:8px 0 0;
      font-size:14px;
      color:#475569;
      font-weight:800;
      line-height:1.6;
      text-align:right;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:6px 10px;
      border-radius:999px;
      font-weight:900;
      font-size:13px;
      border:1px solid rgba(15,23,42,.10);
      background:#fff;
      color:#0f172a;
    }
    .resultBox{
      background:#fff;
      border:1px solid rgba(15,23,42,.10);
      border-radius:18px;
      padding:14px;
      box-shadow:0 10px 26px rgba(2,6,23,.06);
      text-align:right;
    }
    .resultBox h3{
      margin:0 0 8px;
      font-size:20px;
      font-weight:900;
      color:#0f172a;
    }
    .kpi{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
      margin-top:10px;
    }
    @media(min-width:640px){
      .kpi{grid-template-columns:1fr 1fr}
    }
    .kpiItem{
      background:rgba(30,58,138,.06);
      border:1px solid rgba(30,58,138,.16);
      border-radius:16px;
      padding:12px;
      text-align:right;
    }
    .kpiItem .t{font-size:14px;font-weight:900;color:#1e3a8a;margin-bottom:2px}
    .kpiItem .v{font-size:20px;font-weight:900;color:#0f172a}
    .list{
      margin:10px 0 0;
      padding:0;
      list-style:none;
      display:grid;
      gap:10px;
    }
    .offer{
      background:#fff;
      border:1px solid rgba(15,23,42,.10);
      border-radius:16px;
      padding:12px;
      text-align:right;
      box-shadow:0 8px 22px rgba(2,6,23,.05);
    }
    .offerTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .offerName{
      font-weight:900;
      color:#0f172a;
      font-size:18px;
    }
    .score{
      font-weight:900;
      font-size:14px;
      padding:6px 10px;
      border-radius:999px;
      background:rgba(14,165,233,.12);
      color:#0369a1;
      border:1px solid rgba(3,105,161,.18);
    }
    .offerMeta{
      margin-top:8px;
      display:grid;
      grid-template-columns:1fr;
      gap:8px;
      color:#334155;
      font-weight:800;
      font-size:14px;
      line-height:1.6;
    }
    @media(min-width:640px){
      .offerMeta{grid-template-columns:1fr 1fr}
    }
    .note{
      margin-top:12px;
      padding:12px;
      border-radius:16px;
      background:#fff7ed;
      border:1px solid rgba(234,88,12,.18);
      color:#9a3412;
      font-weight:900;
      font-size:14px;
      line-height:1.7;
      text-align:right;
    }
    .footer{
      margin-top:14px;
      padding:12px 10px;
      color:#475569;
      font-weight:800;
      font-size:13px;
      line-height:1.6;
      text-align:center;
    }
    .hide{display:none !important}
    .center{ text-align:center }
  </style>
</head>

<body>
  <header>
    <h1>Ù…Ù†ØµØ© FINO â€” ØªØ±Ø´ÙŠØ­ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ</h1>
    <div class="sub">FINO â€” Smart Finance Match</div>
  </header>

  <main>
    <div class="grid">
      <section class="card" id="introCard">
        <div class="pill">âš¡ Ø®Ù„Ø§Ù„ Ø«ÙˆØ§Ù†Ù.. Ø¨Ø¯ÙˆÙ† Ø­ÙŠØ±Ø© ÙˆÙ„Ø§ ØªØ¹Ø¨</div>
        <h2>ÙƒÙŠÙ ØªØ³Ø§Ø¹Ø¯Ùƒ FINOØŸ</h2>
        <p class="muted">
          Ù…Ù†ØµØ© Ø°ÙƒÙŠØ© ØªØ­Ø³Ø¨ Ù„Ùƒ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ ÙˆØªÙØ±Ø´Ù‘Ø­ Ù„Ùƒ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù†Ø³Ø¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ (Ø§Ù„Ø±Ø§ØªØ¨ + Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª + Ø§Ù„Ù…Ø¯Ø©) Ø¨Ø´ÙƒÙ„ Ø³Ø±ÙŠØ¹ ÙˆÙˆØ§Ø¶Ø­.
        </p>

        <div class="steps">
          <div class="step">
            <div class="num">1</div>
            <div>
              <b>Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ</b>
              <span>Ø§Ù„Ø±Ø§ØªØ¨ØŒ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§ØªØŒ Ù†ÙˆØ¹ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ØŒ ÙˆØ§Ù„Ù…Ø¯Ø©.</span>
            </div>
          </div>
          <div class="step">
            <div class="num">2</div>
            <div>
              <b>Ù†Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©</b>
              <span>Ù†Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ù…ØªØ§Ø­ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ.</span>
            </div>
          </div>
          <div class="step">
            <div class="num">3</div>
            <div>
              <b>ØªØ±Ø´ÙŠØ­ Ø§Ù„Ø¹Ø±ÙˆØ¶</b>
              <span>Ù†Ø±Ø´Ù‘Ø­ Ù„Ùƒ Ø£ÙØ¶Ù„ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…Ø±ØªØ¨.</span>
            </div>
          </div>
          <div class="step">
            <div class="num">4</div>
            <div>
              <b>ØªÙˆØ§ØµÙ„ Ø³Ø±ÙŠØ¹</b>
              <span>ØªÙ‚Ø¯Ø± ØªØ­ÙØ¸ Ù†ØªÙŠØ¬ØªÙƒ ÙˆØªØ±Ø³Ù„Ù‡Ø§ Ù„Ù„Ù…ÙˆØ¸Ù Ø¨Ø³Ù‡ÙˆÙ„Ø©.</span>
            </div>
          </div>
        </div>

        <div class="cta">
          <button class="btn btnPrimary" id="startBtn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
          <button class="btn btnGhost" id="loadBtn">Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¢Ø®Ø± Ø¥Ø¯Ø®Ø§Ù„</button>
        </div>

        <div class="note">
          ØªÙ†ÙˆÙŠÙ‡: Ù†Ø­Ù† Ù„Ø³Ù†Ø§ Ø¬Ù‡Ø© ØªÙ…ÙˆÙŠÙ„ÙŠØ©ØŒ ÙˆØ¯ÙˆØ±Ù†Ø§ ÙŠÙ‚ØªØµØ± Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ³Ø§Ø·Ø© ÙˆØªØ±Ø´ÙŠØ­ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ù†ÙˆÙƒ ÙˆØ´Ø±ÙƒØ§Øª Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù…Ø±Ø®Ù‘ØµØ©ØŒ ÙˆÙ†Ù†Ø¬Ø² Ù„Ùƒ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© ÙˆÙ†Ø­Ù„ Ø§Ù„Ù…Ø¹ÙˆÙ‚Ø§Øª Ø¨Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª.
        </div>

        <div class="footer">
          Â© FINO â€” Smart Finance Match
        </div>
      </section>

      <section class="card hide" id="formCard">
        <h2>Ø¨ÙŠØ§Ù†Ø§ØªÙƒ</h2>

        <div class="formRow">
          <div>
            <label for="fullName">Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…</label>
            <input id="fullName" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯" autocomplete="name" />
          </div>

          <div>
            <label for="finType">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ ØªØ±ÙŠØ¯ Ø­Ø³Ø¨ØªÙ‡:</label>
            <select id="finType">
              <option value="mortgage">ØªÙ…ÙˆÙŠÙ„ Ø¹Ù‚Ø§Ø±ÙŠ</option>
              <option value="personal">ØªÙ…ÙˆÙŠÙ„ Ø´Ø®ØµÙŠ Ø£Ùˆ ØªÙ…ÙˆÙŠÙ„ Ø§Ø³ØªÙ‡Ù„Ø§ÙƒÙŠ</option>
            </select>
          </div>
        </div>

        <div class="formRow">
          <div>
            <label for="salary">Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø´Ù‡Ø±ÙŠ (Ø±ÙŠØ§Ù„)</label>
            <input id="salary" type="number" inputmode="numeric" placeholder="Ù…Ø«Ø§Ù„: 12000" min="0" />
          </div>

          <div>
            <label for="commitments">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ© (Ø±ÙŠØ§Ù„)</label>
            <input id="commitments" type="number" inputmode="numeric" placeholder="Ù…Ø«Ø§Ù„: 1500" min="0" />
          </div>
        </div>

        <div class="formRow">
          <div>
            <label for="months">Ù…Ø¯Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„ (Ø¨Ø§Ù„Ø£Ø´Ù‡Ø±)</label>
            <input id="months" type="number" inputmode="numeric" placeholder="Ù…Ø«Ø§Ù„: 240" min="12" />
          </div>

          <div>
            <label for="support">Ù‡Ù„ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ù…Ø¯Ø¹ÙˆÙ…ØŸ</label>
            <select id="support">
              <option value="no">ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…</option>
              <option value="yes">Ù…Ø¯Ø¹ÙˆÙ…</option>
            </select>
          </div>
        </div>

        <p class="hint">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ØªÙ‚Ø±ÙŠØ¨ÙŠØ© Ù„Ù„ØªØ±Ø´ÙŠØ­ ÙÙ‚Ø·ØŒ ÙˆÙ‚Ø¯ ØªØ®ØªÙ„Ù Ø­Ø³Ø¨ Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„ÙŠØ© ÙˆØ§Ù„Ù…Ù„Ø§Ø¡Ø© ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª Ø§Ù„ÙØ¹Ù„ÙŠØ©.</p>

        <div class="cta">
          <button class="btn btnPrimary" id="calcBtn">Ø§Ø­Ø³Ø¨ Ùˆ Ø±Ø´Ù‘Ø­</button>
          <button class="btn btnGhost" id="backBtn">Ø±Ø¬ÙˆØ¹</button>
        </div>
      </section>

      <section class="card hide" id="resultCard">
        <h2>Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø³Ø¨Ø© (Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©)</h2>

        <div class="resultBox" id="welcomeBox">
          <h3 id="welcomeTitle">Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙˆÙ…Ø³Ù‡Ù„Ø§</h3>
          <div class="kpi">
            <div class="kpiItem">
              <div class="t">Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ù…ØªØ§Ø­ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹</div>
              <div class="v" id="kpiInstallment">â€”</div>
            </div>
            <div class="kpiItem">
              <div class="t">Ø§Ù„Ù…Ø¯Ø©</div>
              <div class="v" id="kpiMonths">â€”</div>
            </div>
          </div>

          <div class="hr"></div>

          <div class="kpi">
            <div class="kpiItem">
              <div class="t">ØªÙ…ÙˆÙŠÙ„Ùƒ Ø§Ù„ØµØ§ÙÙŠ Ø¨Ø¹Ø¯ Ø®ØµÙ… Ø§Ù„Ø±Ø³ÙˆÙ…</div>
              <div class="v" id="kpiNet">â€”</div>
            </div>
            <div class="kpiItem">
              <div class="t">Ø§Ù„Ø±Ø¨Ø­ Ù…Ø¹ Ø§Ù„Ø±Ø³ÙˆÙ…</div>
              <div class="v" id="kpiProfit">â€”</div>
            </div>
          </div>

          <div class="note" id="negativeNote" style="display:none;">
            Ù†Ø¹ØªØ°Ø± Ù…Ù†Ùƒ Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªÙ…ÙˆÙŠÙ„Ùƒ
          </div>
        </div>

        <div class="hr"></div>

        <div class="resultBox">
          <h3>Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©</h3>
          <ul class="list" id="offersList"></ul>
          <div class="hint center" id="offersHint">â€”</div>
        </div>

        <div class="cta">
          <button class="btn btnPrimary" id="saveBtn">Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
          <button class="btn btnGhost" id="copyBtn">Ù†Ø³Ø® Ù…Ù„Ø®Øµ</button>
          <button class="btn btnDanger" id="resetBtn">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø­Ø³Ø¨Ø©</button>
        </div>

        <div class="note">
          ØªÙ†ÙˆÙŠÙ‡: Ù„Ø³Ù†Ø§ Ø¬Ù‡Ø© ØªÙ…ÙˆÙŠÙ„ÙŠØ©. Ø§Ù„ØªØ±Ø´ÙŠØ­ ØªÙ‚Ø¯ÙŠØ±ÙŠ ÙˆÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©. Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„ÙŠØ© Ø§Ù„Ù…Ø±Ø®Ù‘ØµØ©.
        </div>

        <div class="footer" id="footTime">â€”</div>
      </section>
    </div>
  </main>

  <script>
    const $ = (id) => document.getElementById(id);

    const introCard  = $("introCard");
    const formCard   = $("formCard");
    const resultCard = $("resultCard");

    const startBtn = $("startBtn");
    const loadBtn  = $("loadBtn");
    const backBtn  = $("backBtn");
    const calcBtn  = $("calcBtn");
    const saveBtn  = $("saveBtn");
    const copyBtn  = $("copyBtn");
    const resetBtn = $("resetBtn");

    const fullName = $("fullName");
    const finType  = $("finType");
    const salary   = $("salary");
    const commitments = $("commitments");
    const months   = $("months");
    const support  = $("support");

    const welcomeTitle = $("welcomeTitle");
    const kpiInstallment = $("kpiInstallment");
    const kpiMonths = $("kpiMonths");
    const kpiNet = $("kpiNet");
    const kpiProfit = $("kpiProfit");
    const offersList = $("offersList");
    const offersHint = $("offersHint");
    const negativeNote = $("negativeNote");
    const footTime = $("footTime");

    function show(card){
      [introCard, formCard, resultCard].forEach(c => c.classList.add("hide"));
      card.classList.remove("hide");
      window.scrollTo({top:0, behavior:"smooth"});
    }

    function fmt(n){
      if(!isFinite(n)) return "â€”";
      return Math.round(n).toLocaleString("ar-SA") + " Ø±ÙŠØ§Ù„";
    }

    function nowText(){
      const d = new Date();
      const opt = { year:"numeric", month:"2-digit", day:"2-digit", hour:"2-digit", minute:"2-digit", second:"2-digit" };
      return "Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: " + d.toLocaleString("ar-SA", opt);
    }

    // Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø±ÙˆØ¶ Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ù„Ù„ØªØ±Ø´ÙŠØ­ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ)
    const OFFERS = [
      { name:"Ø¹Ø±Ø¶ Ø¨Ù†Ùƒ A", baseRate: 3.85, feePct: 1.0, fast:true, support:true },
      { name:"Ø¹Ø±Ø¶ Ø¨Ù†Ùƒ B", baseRate: 3.65, feePct: 1.2, fast:false, support:true },
      { name:"Ø¹Ø±Ø¶ Ø¨Ù†Ùƒ C", baseRate: 4.05, feePct: 0.8, fast:true, support:false },
      { name:"Ø¹Ø±Ø¶ Ø¨Ù†Ùƒ D", baseRate: 3.95, feePct: 1.5, fast:false, support:false },
      { name:"Ø¹Ø±Ø¶ Ø´Ø±ÙƒØ© ØªÙ…ÙˆÙŠÙ„ E", baseRate: 4.35, feePct: 1.0, fast:true, support:false },
    ];

    function scoreOffer(o, data){
      let s = 100;
      s -= (o.baseRate * 10);
      s -= (o.feePct * 8);
      if(data.support === "yes" && !o.support) s -= 18;
      if(data.support === "no" && o.support) s -= 6;
      if(o.fast) s += 6;
      if(data.finType === "mortgage" && o.baseRate <= 3.9) s += 4;
      if(data.finType === "personal" && o.feePct <= 1.0) s += 3;
      return Math.round(s);
    }

    function calc(){
      const data = {
        fullName: (fullName.value || "").trim(),
        finType: finType.value,
        salary: Number(salary.value),
        commitments: Number(commitments.value),
        months: Number(months.value),
        support: support.value
      };

      if(!data.salary || data.salary < 0) data.salary = 0;
      if(!data.commitments || data.commitments < 0) data.commitments = 0;
      if(!data.months || data.months < 12) data.months = (data.finType === "personal") ? 60 : 240;

      const ratio = (data.finType === "mortgage") ? 0.55 : 0.3333;

      const maxDeduction = data.salary * ratio;
      const availableInstallment = maxDeduction - data.commitments;

      welcomeTitle.textContent = data.fullName ? ("Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙˆÙ…Ø³Ù‡Ù„Ø§ ÙŠØ§ " + data.fullName) : "Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙˆÙ…Ø³Ù‡Ù„Ø§";
      kpiInstallment.textContent = fmt(availableInstallment);
      kpiMonths.textContent = Math.round(data.months).toLocaleString("ar-SA") + " Ø´Ù‡Ø±";

      const gross = Math.max(0, availableInstallment) * data.months;
      const fees = gross * 0.01;
      const profit = gross * 0.15;
      const net = gross - fees;

      kpiNet.textContent = fmt(net);
      kpiProfit.textContent = fmt(profit + fees);

      if(availableInstallment <= 0){
        negativeNote.style.display = "block";
      } else {
        negativeNote.style.display = "none";
      }

      offersList.innerHTML = "";
      const scored = OFFERS.map(o => ({...o, score: scoreOffer(o, data)}))
                           .sort((a,b) => b.score - a.score)
                           .slice(0, 4);

      scored.forEach(o => {
        const li = document.createElement("li");
        li.className = "offer";
        li.innerHTML = `
          <div class="offerTop">
            <div class="offerName">${o.name}</div>
            <div class="score">${o.score} / 100</div>
          </div>
          <div class="offerMeta">
            <div>Ù…Ø¹Ø¯Ù„ ØªÙ‚Ø±ÙŠØ¨ÙŠ: <span class="badge">${o.baseRate}%</span></div>
            <div>Ø±Ø³ÙˆÙ… Ø¥Ø¯Ø§Ø±ÙŠØ© ØªÙ‚Ø¯ÙŠØ±ÙŠØ©: <span class="badge">${o.feePct}%</span></div>
            <div>ÙŠØ¯Ø¹Ù… Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…: <span class="badge">${o.support ? "Ù†Ø¹Ù…" : "Ù„Ø§"}</span></div>
            <div>Ø³Ø±Ø¹Ø© Ø¥Ù†Ø¬Ø§Ø²: <span class="badge">${o.fast ? "Ø³Ø±ÙŠØ¹" : "Ø¹Ø§Ø¯ÙŠ"}</span></div>
          </div>
        `;
        offersList.appendChild(li);
      });

      offersHint.textContent = "Ø§Ù„ØªØ±Ø´ÙŠØ­ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ ØªÙ‚Ø±ÙŠØ¨ÙŠ ÙˆÙ‚Ø¯ ØªØ®ØªÙ„Ù Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø­Ø³Ø¨ Ø§Ù„Ø¬Ù‡Ø©.";
      footTime.textContent = nowText();

      window.__FINO_LAST = { data, availableInstallment, net, profit, fees, scored, ts: new Date().toISOString() };
    }

    function saveDraft(){
      const draft = {
        fullName: fullName.value,
        finType: finType.value,
        salary: salary.value,
        commitments: commitments.value,
        months: months.value,
        support: support.value
      };
      localStorage.setItem("fino_draft_v1", JSON.stringify(draft));
    }

    function loadDraft(){
      const raw = localStorage.getItem("fino_draft_v1");
      if(!raw) return false;
      try{
        const d = JSON.parse(raw);
        fullName.value = d.fullName ?? "";
        finType.value = d.finType ?? "mortgage";
        salary.value = d.salary ?? "";
        commitments.value = d.commitments ?? "";
        months.value = d.months ?? "";
        support.value = d.support ?? "no";
        return true;
      }catch(e){
        return false;
      }
    }

    function copySummary(){
      const last = window.__FINO_LAST;
      if(!last) return;
      const d = last.data;
      const top = (last.scored && last.scored[0]) ? last.scored[0].name : "â€”";
      const txt =
`FINO â€” ØªØ±Ø´ÙŠØ­ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ
Ø§Ù„Ø§Ø³Ù…: ${d.fullName || "â€”"}
Ù†ÙˆØ¹ Ø§Ù„ØªÙ…ÙˆÙŠÙ„: ${d.finType === "mortgage" ? "Ø¹Ù‚Ø§Ø±ÙŠ" : "Ø´Ø®ØµÙŠ/Ø§Ø³ØªÙ‡Ù„Ø§ÙƒÙŠ"}
Ø§Ù„Ø±Ø§ØªØ¨: ${fmt(d.salary)}
Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…Ø§Øª: ${fmt(d.commitments)}
Ø§Ù„Ù…Ø¯Ø©: ${Math.round(d.months)} Ø´Ù‡Ø±
Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ù…ØªØ§Ø­: ${fmt(last.availableInstallment)}
Ø§Ù„ØµØ§ÙÙŠ Ø¨Ø¹Ø¯ Ø®ØµÙ… Ø§Ù„Ø±Ø³ÙˆÙ… (ØªÙ‚Ø±ÙŠØ¨ÙŠ): ${fmt(last.net)}
Ø§Ù„Ø±Ø¨Ø­ Ù…Ø¹ Ø§Ù„Ø±Ø³ÙˆÙ… (ØªÙ‚Ø±ÙŠØ¨ÙŠ): ${fmt(last.profit + last.fees)}
Ø£ÙØ¶Ù„ ØªØ±Ø´ÙŠØ­: ${top}
${nowText()}
ØªÙ†ÙˆÙŠÙ‡: Ù„Ø³Ù†Ø§ Ø¬Ù‡Ø© ØªÙ…ÙˆÙŠÙ„ÙŠØ©ØŒ ÙˆØ§Ù„ØªØ±Ø´ÙŠØ­ ØªÙ‚Ø¯ÙŠØ±ÙŠ.`;
      navigator.clipboard.writeText(txt).then(()=>{
        copyBtn.textContent = "ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…";
        setTimeout(()=> copyBtn.textContent = "Ù†Ø³Ø® Ù…Ù„Ø®Øµ", 1300);
      }).catch(()=>{
        alert("ØªØ¹Ø°Ø± Ø§Ù„Ù†Ø³Ø®ØŒ Ø§Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§.");
      });
    }

    startBtn.addEventListener("click", ()=> show(formCard));
    loadBtn.addEventListener("click", ()=>{
      const ok = loadDraft();
      show(formCard);
      if(!ok) alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø§Ø¨Ù‚ Ù…Ø­ÙÙˆØ¸.");
    });
    backBtn.addEventListener("click", ()=> show(introCard));

    calcBtn.addEventListener("click", ()=>{
      saveDraft();
      calc();
      show(resultCard);
    });

    saveBtn.addEventListener("click", ()=>{
      saveDraft();
      saveBtn.textContent = "ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ…";
      setTimeout(()=> saveBtn.textContent = "Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©", 1300);
    });

    copyBtn.addEventListener("click", copySummary);

    resetBtn.addEventListener("click", ()=>{
      show(formCard);
      resetBtn.textContent = "ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø­Ø³Ø¨Ø©";
    });

    window.addEventListener("load", ()=>{
      loadDraft();
    });
  </script>
</body>
</html>